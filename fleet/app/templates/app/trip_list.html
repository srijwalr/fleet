{% extends "app/msfleet.html" %}
{% block title %}:: Trip List::{% endblock %}
{% load static %}
{% load crispy_forms_tags %}

    <!--sidebar end-->
{% block content %}
    <!--main content start-->
      <section id="main-content">
      <section class="wrapper">
        <div class="row">
          <div class="col-lg-12">
            <h2>Trips</h2>
          <div>

                <div class="row">
                    <div class="col-sm-12">
                        <ul class="nav nav-tabs" style="margin-bottom: 10px;">
                            <li role="presentation" class="active"><a href="{% url 'app:list' 'all' %}">View All</a></li>
                            <li role="presentation" {% if filter_by == 'approved' %} class="active"{% endif %}><a href="{% url 'app:list' 'approved' %}">To Approve</a></li>
                        </ul>
                    </div>
                </div>

            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Trip Number</th>
                    <th scope="col">Vehicle</th>
                    <th scope="col">Driver</th>
                   {% if request.user.usrd_usrcatpntr.usrcat_code == '7'%}
                    <th scope="col">Action</th>
                   {% endif %}
 
                    <th scope="col">Delete</th>
                  </tr>
                </thead>
            {% for trip in trips %}
                <tr>
                  <td>
                    {{ forloop.counter }}
                  </td>
                <td> {{ trip.no }} </td> 
                  <td> {{ trip.veh }} </td> 
                  <td> {{ trip.driver }} </td> 
          {% if request.user.usrd_usrcatpntr.usrcat_code == '7'%}
                  <td> <a
                        href="{% url 'app:trip-update' trip.pk %}">Edit</a></td>
          {% endif %}

                   <td> <a href="#">Delete</a></td></tr>
                </td>
            {% empty %}
                <td>No trips yet.</td>
            {% endfor %}
            </table>
            {% if trips.has_other_pages %}
              <ul class="pagination">
                {% if trips.has_previous %}
                  <li><a href="?page={{ trips.previous_page_number }}">&laquo;</a></li>
                {% else %}
                  <li class="disabled"><span>&laquo;</span></li>
                {% endif %}
                {% for i in trips.paginator.page_range %}
                  {% if trips.number == i %}
                    <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                  {% else %}
                    <li><a href="?page={{ i }}">{{ i }}</a></li>
                  {% endif %}
                {% endfor %}
                {% if trips.has_next %}
                  <li><a href="?page={{ trips.next_page_number }}">&raquo;</a></li>
                {% else %}
                  <li class="disabled"><span>&raquo;</span></li>
                {% endif %}
              </ul>
            {% endif %}
        <p>
            <a class="btn btn-primary " href="{% url 'app:trip' %}">Trip Create</a>
        </p>
    </div>
          </div>
        </div>
      
      </section>  
    </section>
    <!--main content end-->
  </section>
  <!-- container section end -->
  <!-- javascripts -->
  <script src="{% static 'app/js/jquery.js' %}"></script>
  <script src="{% static 'app/js/bootstrap.min.js' %}"></script>
  <!-- nice scroll -->
  <script src="{% static 'app/js/jquery.scrollTo.min.js' %}"></script>
  <script src="{% static 'app/js/jquery.nicescroll.js' %}" type="text/javascript"></script>
  <!--custome script for all page-->
  <script src="{% static 'app/js/scripts.js' %}"></script>

  
{% endblock %}
</body>

</html>

























